---
title: 字符串操作
date: 2018-08-05
tags:
- 基础
categories:
- C
---
<!-- toc -->

#### 数组和指针存储字符串的区别

C中可以使用两种方式来存储字符串，分别是字符数组和字符指针，两者的区别在于，字符
数组存储的字符串是可以进行修改的(数组本身就是可变的)，而字符指针存储的数组不可以修改(相当于常量)；

<!-- more -->
```
void main(){
	// 字符数组存储字符串
	// 下面三种方式等价
	// 字符数组表示的字符串是可修改的
	char str1[] = { 'c', 'h', 'i', 'n', 'a','\0'};
	char str2[6] = { 'c', 'h', 'i', 'n', 'a' };
	char str3[] = "china";

	// 通过字符指针实现
	// 字符指针表示的字符串是不可修改的常量
	char *str = "china";

	str3[0] = 'v';
	printf("%s\n", str1);
	printf("%s\n", str3);

	// 通过指针运算截取字符串
	str += 3;
	while (*str){
		printf("%c", *str);
		str++;
	}

	getchar();
}
```

#### 字符串操作函数

> 参考网站：http://www.kuqin.com/clib/string/strcmp.html

##### 字符串连接和拷贝

```
void main(){
	char dest[50];
	char *a = "china";
	char *b = " is good!";

	// 根据首地址将字符串拷贝到dest
	strcpy(dest, a);
	// 根据首地址，将dest和b连接起来
	strcat(dest, b);
	printf("%s\n", dest);
	getchar();
}
```

##### 字符查询

```
void main(){
	char* str = "how are you!";

	// 获取字符串中给定字符第一次出现所在位置的指针
	char* p = strchr(str, 'a');

	if (p){
		printf("索引位置：%d\n", p - str);
	}
	else{
		printf("没有找到");
	}

	getchar();
}
```

##### 字符串查询

```
void main(){
	char* str = "how are you!";
	char* find = "are";

	// 获取字符串中给定字符串第一次出现所在位置的指针
	char* p = strstr(str, find);

	if (p){
		printf("索引位置：%d\n", p - str);
	}
	else{
		printf("没有找到");
	}

	getchar();
}
```
